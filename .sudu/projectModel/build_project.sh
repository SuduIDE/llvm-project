#!/bin/bash
set -x
cmake -GNinja -DCMAKE_BUILD_TYPE="$1" -DLLVM_TARGETS_TO_BUILD="ARM;X86;AArch64;Mips;PowerPC"  -DLLVM_ENABLE_PROJECTS="clang;clang-tools-extra" -DCLANGD_DECISION_FOREST=OFF -DCMAKE_EXPORT_COMPILE_COMMANDS=ON -S ../llvm && \
# We removed LoongArchCommonTableGen as it needs more targets in LLVM_TARGETS_TO_BUILD
ninja intrinsics_gen acc_gen omp_gen ARMCommonTableGen X86CommonTableGen AArch64CommonTableGen MipsCommonTableGen PowerPCCommonTableGen DllOptionsTableGen LibOptionsTableGen ClangAttrClasses ClangAttrImpl ClangAttrTextDump ClangAttrTraverse ClangAttrVisitor ClangStmtNodes ClangDeclNodes ClangTypeNodes ClangAbstractBasicReader ClangAbstractBasicWriter ClangAbstractTypeReader ClangAbstractTypeWriter ClangCommentNodes ClangCommentHTMLTags ClangCommentHTMLTagsProperties ClangCommentHTMLNamedCharacterReferences ClangCommentCommandInfo ClangCommentCommandList StmtDataCollectors ClangDiagnosticAnalysis ClangDiagnosticAST ClangDiagnosticComment ClangDiagnosticCommon ClangDiagnosticCrossTU ClangDiagnosticDriver ClangDiagnosticFrontend ClangDiagnosticLex ClangDiagnosticParse ClangDiagnosticRefactoring ClangDiagnosticSema ClangDiagnosticSerialization ClangDiagnosticGroups ClangDiagnosticIndexName ClangAttrList ClangAttrSubjectMatchRuleList ClangAttrHasAttributeImpl ClangARMNeon ClangARMFP16 ClangARMMveBuiltinsDef ClangARMMveBuiltinCG ClangARMMveBuiltinSema ClangARMMveBuiltinAliases ClangARMSveBuiltins ClangARMSveBuiltinCG ClangARMSveTypeFlags ClangARMSveSemaRangeChecks ClangARMCdeBuiltinsDef ClangARMCdeBuiltinCG ClangARMCdeBuiltinSema ClangARMCdeBuiltinAliases ClangRISCVVectorBuiltins ClangRISCVVectorBuiltinCG ClangDriverOptions ClangAttrParserStringSwitches ClangAttrSubMatchRulesParserStringSwitches ClangAttrTemplateInstantiate ClangAttrParsedAttrList ClangAttrParsedAttrKinds ClangAttrSpellingListIndex ClangAttrParsedAttrImpl ClangAttrPCHRead ClangAttrPCHWrite ClangSACheckers ClangSyntaxNodeList ClangSyntaxNodeClasses Opcodes ClangAttrDocTable ClangOpenCLBuiltinsImpl DsymutilTableGen CvtResTableGen CxxfiltOptsTableGen LipoOptsTableGen MLTableGen MtTableGen NmOptsTableGen ObjcopyOptsTableGen InstallNameToolOptsTableGen BitcodeStripOptsTableGen StripOptsTableGen ObjdumpOptsTableGen OtoolOptsTableGen RcOptsTableGen WindresOptsTableGen ReadobjOptsTableGen SizeOptsTableGen StringsOptsTableGen SymbolizerOptsTableGen TLICheckerOptsTableGen OptsTestTableGen AutomataTestTableGen


